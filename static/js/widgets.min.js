(function(){this.storybase=this.storybase||{};var m=this.storybase.widgets=this.storybase.widgets||{};if(m.showWidgets)m.showWidgets();else{var g=function(l,h,f){g=document.getElementsByClassName?function(d,b,c){c=c||document;d=c.getElementsByClassName(d);b=b?RegExp("\\b"+b+"\\b","i"):null;c=[];for(var a,e=0,f=d.length;e<f;e+=1)a=d[e],b&&!b.test(a.nodeName)||c.push(a);return c}:document.evaluate?function(d,b,c){b=b||"*";c=c||document;var a=d.split(" "),e="",f="http://www.w3.org/1999/xhtml"===document.documentElement.namespaceURI?
"http://www.w3.org/1999/xhtml":null;d=[];for(var g,k=0,h=a.length;k<h;k+=1)e+="[contains(concat(' ', @class, ' '), ' "+a[k]+" ')]";try{g=document.evaluate(".//"+b+e,c,f,0,null)}catch(l){g=document.evaluate(".//"+b+e,c,null,0,null)}for(;b=g.iterateNext();)d.push(b);return d}:function(d,b,c){b=b||"*";c=c||document;var a=d.split(" ");d=[];b="*"===b&&c.all?c.all:c.getElementsByTagName(b);c=[];var e;e=0;for(var f=a.length;e<f;e+=1)d.push(RegExp("(^|\\s)"+a[e]+"(\\s|$)"));for(var f=0,g=b.length;f<g;f+=
1){a=b[f];e=!1;for(var k=0,h=d.length;k<h&&(e=d[k].test(a.className),e);k+=1);e&&c.push(a)}return c};return g(l,h,f)};(m.showWidgets=function(){var l=g("storybase-story-embed").concat(g("storybase-list-embed")).concat(g("storybase-story-list-embed")),h,f,d,b,c;for(h=0;h<l.length;h++)if(c={},f=l[h],"none"!=f.style.display){c.height=f.getAttribute("data-height")||"500px";c.version=f.getAttribute("data-version")||null;d=f;b=c;var a=d.getAttribute("href"),e=void 0;a||(a=g("storybase-story",null,d)[0].getAttribute("href"),
e=g("storybase-list",null,d)[0].getAttribute("href"));a&&(a="/"===a[a.length-1]?a:a+"/",a+="widget/",a=b.version?a+b.version+"/":a,a=e?a+"?list-url="+e:a);if(b=a)d=document.createElement("iframe"),d.setAttribute("name","storybase-story-widget-frame"),d.setAttribute("src",b),d.setAttribute("style","border: none; height: "+c.height+";"),f.parentNode.insertBefore(d,f),f.style.display="none"}})()}}).call(this);
